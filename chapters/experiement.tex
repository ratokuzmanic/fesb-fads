\section{Eksperiment}
U ovom poglavlju je predstavljena metodologija i rezultati provedenog eksperimenta.

\subsection{Korišteni materijali}
U svrhe provođenja steganalize s ciljem detekcije steganografskih elemenata unutar video sadržaja OTT platforme,
odabrani su sljedeći materijali:
\begin{itemize}
    \item HBO GO kao primjer OTT platforme
    \item t@gged serija, s konkretno uzetom prvom epizodom prve sezone (S1E1)
    \item Referentna verzija serije, tj. omotača, dobivena s besplatne platforme Go90\footnote{Go90 platforma nije dostupna od 31.7.2018.}
\end{itemize}

\subsection{Normalizacija materijala}
Videomaterijali prikupljeni s HBO GO platforme su dobiveni snimanjem video izlaza na kojem se reproducirala spomenuta
serija. Originalno, presnimavanje se vršilo putem OBS Studio softvera, s izlaznim formatom .mp4, 4500 b/s video brzinom i
44100Hz audio brzinom pri 60 slika u sekundi (FPS -- engl. \textit{Frames per Second}). 

Kako bi se rezultati normalizirali i prilagodili referentnoj verziji, ispitana su ista svojstva referentnog videa i 
korištenjem FFmpeg alata je videomaterijali prikupljen s HBO GO platforme normaliziran na referentnu vrijednost od 23.98 slika
u sekundi.
\begin{lstlisting}
./ffmpeg -y -r 23.98 -i tagged_hbo-go.mp4 tagged_hbo-go_normalized.mp4
\end{lstlisting}

\subsection{Korišteni alati}
U procesu provođenja eksperimenta su korišteni sljedeći alati:
\begin{itemize}
    \item FFmpeg, za komandno upravljanje (CLI -- engl.\textit{Command Line Interface}) video materijalima \cite{ffmpeg}
    \item OBS Studio, za izvorno presnimavanje materijala \cite{obs}
    \item Incoherency, za razdvajanje ploha slike \cite{incoherency}
    \item ENT, za statističku analizu \cite{ent}
\end{itemize}

\subsection{Analiza}
Sami eksperiment je proveden u nekoliko etapa analize koji su pobliže opisani u ovom odlomku.
    \subsubsection{Vizualni \textit{samo stego} napad}
    Kako bi se proveo \textit{samo stego napad} na sumnjivi videomaterijal, prvotno je korištenjem FFmpeg alata video izrezan
    u manji segment, a potom su izolirani I-okvir, od kojih je jedan uzet za vizualni napad:
    \begin{lstlisting}
./ffmpeg -i tagged_hbo-go_normalized.mp4 -ss 00:03:46.0 -t 00:00:10.0 -async 1 tagged_hbo-go_normalized_short.mp4
./ffmpeg -i tagged_hbo-go_normalized_short.mp4 -vf "select=eq(pict_type\,I)" -vsync vfr hbo-go/frame%04d.png -hide_banner
    \end{lstlisting}
    Za provođenje vizalnog napada je odabran sljedeći I-okvir:
    \begin{figure}[h]
        \centering
        \includegraphics[width=0.8\textwidth]{visual/frame.png}
        \caption{Odabrani I-okvir za vizualni napad na sumnjivi videomaterijal}
        \label{img:visualAttackFrame}
    \end{figure}

    Samom vizualnom inspekcijom nisu pronađeni dokazi steganografskih manipulacija, pa su stoga analizirane plohe slike
    korištenjem Incoherency alata. Rezultati razdvajanja ploha, s pretpostavkom korištenja od jednog do šest bitova za skrivanje
    informacije su dani slikom .%TODO: ADD VISUAL PLANES REF
    %\input{large-figures/visualPlanes.tex}

    Ponovno, analizom ploha slika se ne uviđaju elementi manipulacije ili skrivanja informacija.

    \subsubsection{Statistički \textit{samo stego} napad}
    Za provođenje statističkog napada odabran je sljedeći I-okvir iz raspona okvira dobivenih u koraku vizualnog napda:
    \begin{figure}[h]
        \centering
        \includegraphics[width=0.8\textwidth]{statistics/frame.png}
        \caption{Odabrani I-okvir za statistički napad na sumnjivi videomaterijal}
        \label{img:statsAttackFrame}
    \end{figure}

    Korištenjem ENT alata dobivene su vrijednosti prikazane na slici ~\ref{img:statsAttackResults}. Vrijednost entropije je visoka,
    kako bismo i očekivali od I-okvira, no usprkos visokoj entropiji chi-square test pokazuje da naši podaci skoro sigurno nisu nasumični,
    što indicira potencijalno postojanje steganografski skrivenih informacija. Vrijednosti drugih testova nasumičnosti, poput aritmetičkog medijana
    ili izračuna vrijednosti broja Pi Monte Carlo algoritmom također ukazuju na postojanje nasumičnosti unutar podataka. \cite{ent}
    \begin{figure}[h]
        \centering
        \includegraphics[width=0.8\textwidth]{statistics/results.png}
        \caption{Statistički parametri I-okvira sumnjivog videomaterijala}
        \label{img:statsAttackResults}
    \end{figure}

    Iako provođenjem \textit{samo stego napada} dobivamo opravdanu sumnju u prisutnost steganografski skrivenih informacija, bez poznavanja
    dodatnih informacija ne možemo donijeti decizivnu odluku. Stoga ćemo ovaj napad proširiti u \textit{poznat omotač napad} korištenjem referentnog
    video materijala.

    \subsubsection{Diferencijalni \textit{poznat omotač} napad}
    Za početak, potrebno je izolirati I-okvire referentnog videa u istom vremenskom segmentu kao u promatranom, sumnjivom videu. Korištenjem FFmpeg alata
    pokrećemo sljedeće naredbe:
    \begin{lstlisting}
./ffmpeg -i tagged_go90.mp4 -ss 00:03:46.0 -t 00:00:10.0 -async 1 tagged_go90_short.mp4
./ffmpeg -i tagged_go90_short.mp4 -vf "select=eq(pict_type\,I)" -vsync vfr go90/frame%04d.png -hide_banner
    \end{lstlisting}

    Diferencijalnoj analizi referentnog i sumnjivog, tj. promatranog, video materijala pristupamo s perspektive vizalnog napada. Usporedimo
    li na slici ~\ref{img:diffIFrame} identičine I-okvire oba videa, nećemo uočiti vizualnu razliku, ako zanemarimo činjenicu da HBO koristi 
    vodeni žig i prijevode.
    \begin{figure}[h]
        \centering
        \includegraphics[width=0.45\textwidth]{diff/go90.png}
        \includegraphics[width=0.45\textwidth]{diff/hbo.png}
        \caption{Usporedba I-okvira referentnog i promatranog videa, respektivno}
        \label{img:diffIFrame}
    \end{figure}

    Pogledamo li područja razlike dvaju okvira na slici ~\ref{img:diffImages}, uočavamo da slike nemaju signifikantnih razlika.
    \begin{figure}[h]
        \centering
        \includegraphics[width=0.85\textwidth]{diff/minus.png}
        \caption{Usporedba I-okvira referentnog i promatranog videa, respektivno}
        \label{img:diffImages}
    \end{figure}

    Ako sada provedemo usporedbu ravnina slike na razini najmanje značajnog bita, također uviđamo strukturalne sličnosti, kao što 
    je prikazano slikom %TODO: Add diff planes ref.
    %\input{large-figures/diffPlanes.tex}
    
    Najvažnija nam je pritom usporedba statističkih parametara obiju okvira, koji za razliku od statističkih parametara 
    \textit{samo stego napada} ukazuju na sličnost statističke strukture okvira. Iz toga slijedi da opažena nasumičnost ne mora
    nužno biti pokazatelj steganografskih informacija, već potencijalno posljedica kodiranja. 

    \begin{figure}[h]
        \centering
        \includegraphics[width=0.8\textwidth]{diff/stats_go90.png}\\\medskip
        \includegraphics[width=0.8\textwidth]{statistics/results.png}
        \caption{Usporedba statističkih parametara I-okvira referentnog i promatranog videa, respektivno}
        \label{img:diffStats}
    \end{figure}

    Iako nismo pronašli tragove steganografske manipulacije, uočene su razlike u kadriranju unutar referentnog i sumnjivog video materijala. Primjerice,
    unutar HBO GO verzije, uopće ne postoji okvir prikazan na slici ~\ref{img:missingFrame}, koji je izvučen iz Go90 verzije videa. Određene scene imaju ranije, a druge kasnije 
    prijelaze ovisno o verziji, stoga je moguće da i montažom samog sadržaja se utječe na profiliranje integriteta izvora.
    \begin{figure}[H]
        \centering
        \includegraphics[width=0.8\textwidth]{diff/hidden.png}
        \caption{Okvir koji je prisutan u Go90 verziji, no ne i HBO GO verziji}
        \label{img:missingFrame}
    \end{figure}

